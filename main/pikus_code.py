import whisper
from g4f.client import Client
from COLORS import RED, WHITE, LIGHTGREEN, DARKGRAY

# Notes
print(f'{RED}IMPORTANT:\n - you must run this on a device with an x86_64 chipset\n - you must have ffmpeg installed\n - you must have g4f/gpt4free installed\n    > use pip install -U g4f\n - you must have whisper installed\n    > use pip install -U openai-whisper\nconsidering that it takes 15 or so seconds for the code to work with a 1m38s long sample audio, expect this code to take very long for entire meeting transcripts. Alternatively, you can just speed everything up so much by using a premade transcript{DARKGRAY}')

# Audio file transcription
model = whisper.load_model("base")

# REPLACE sample.mp3 with your meeting audio, sample.mp3 was taken from "Weekly Meeting Example" https://www.youtube.com/watch?v=3WrZMzqpFTc
result = model.transcribe("meeting_sample.mp4")
text = result["text"]

# Prompt preset (to get the desired response)
prompt = "In english, summarize this meeting transcript. If there are any task deadlines, list them. If there are any tasks, assign them to their corresponding people and list the task and its person. "

# Sample meeting transcript
sampleTranscript = 'SAMPLE MINUTES and instructions Below you will find a sample of a club’s minutes. Distribution – Minutes for your club should be completed and submitted to  everyone listed on the Minutes Distribution List within 48 hours of your meeting.  Minutes are submitted via email with the exception Library Archives which  requires a hard copy. Structure – Minutes should follow the agenda and the flow of the meeting.  All  Meetings and minutes should follow Robert’s Rules. Minutes should start with the attendance and continue through the motion to close the meeting (opening and closing of the meeting should have times attached.) Each topic that is discussed  should have a brief paragraph summarizing what was discussed. Motions should  be found in the minutes as they occurred in the meeting. Motions – Each motion should be numbered. Numbering of motions starts at  one at the beginning of each school year and continue from there until the next  year.  EXAMPLE – your first meeting you start with motion #1 and go through  motion #4.  At your next meeting you will start with motion #5.  If you read the  sample below you will see that it started with motion #9 (the minutes from the  week before left off at motion #8) and they end with motion #14 (next week they  will start with motion #15.  There is more to a motion than the number.  As you see in the sample below you also need to list the last name of the person who made the motion and the last  name of the person that gave the motion a 2nd .  Then comes the body of the  motion.  The body of the motion is what you want to do and should contain the 5 W’s and a how.  Who – who are you paying or who is involved. What – the amt. you are  paying or what you are doing. Where – where is the money coming from (budget or fundraising account or where is your event/trip. When – is your event/trip. Why  – why are paying them. How – do you need a PO, a Cash Advance, a  Reimbursement, a check  Finally there is space to note how the vote happened – you list those in favor (that agree,) those opposed (that disagree,) and any abstentions (those that did  not vote.) Abstentions do not include absences.  If you add all the votes together it should be one less than the number of members in attendance as the  President does not vote (unless it is a re­vote.)  If the majority of members  present are in favor the motion carries, if not the motion fails.  If you have any questions regarding your minutes please feel free to contact someone in the Student Activities office for help. Skateboarding Club 3.21.07  Shafer Hall Room 221 Budget Account #BAMJ08, Fundraising Account #BAMK08  Attendance: President: KayTe Bettencourt, Vice­President: Dennis Mayes, Secretary: Sarah Tynan, Treasurer: Carrie Spaulding, Advisor: Valerie Nettleton, John  Bazin, Members: Jeromy Marchand, Chris Casie, Josh Brown, Kim Cardinal,  Joanna Kennedy, Matt Spaulding A Quorum was established.  The meeting was called to order at 6:02pm by President Bettencourt. Motion #9: (Casie/Kennedy) Motion to accept the minutes from the meeting on September 12, 2006. 7 in favor/0 opposed/1 abstention.  Motion Carries President Report Constitution is finalized and was passed to all members of the committee and a  copy will be submitted to Valerie Nettleton. On April 12, 2006 at 5pm, the committee will first distribute the first aid kits to the boarders that ordered them in  Winthrop Hall and then to the other Residence halls. Kim offered to drive the van. Vice President Report Dennis spoke with DJ Sk8 and he was free for the date of May 18, 2007 for our Skate­a­Palooza from 8pm – 12am. He will provide his largest sound system,  lights, mardi gras beads, glow sticks, and a full array of albums and artists. His  price will be the same as last year which is $600. Motion #10: (Marchand/Brown) To pay Bryan Caplette for dj services of $600 for the Skate­a­Palooza held on May 18, 2007 at Mystic Marriot from 8pm – 12am.  6 in favor/1 opposed/1 abstention.  Motion Carries Treasurer Report The balances in our accounts are as follows:  BAMJ08 (Budget): $2,564.33 BAMK08 (Fundraising): $1,547.89  We are still waiting for the invoice from Boards ‘R Us.  Our order came in under budget so some of that money will be going back into our budget account. Secretary’s Report No report at this time. Old Business Our event registration for the Skate Board workshop was approved.  We need to  submit the Room Reservation Form to Mark Massinda to book Webb Lawn for the 20th of April.  C. Spaulding volunteered to take care of this.  We will vote on  the funding for this event next week.  We need to discuss our Trip to NY on April 28th .  The hotel faxed us an invoice  for $1,010.00.  We were able to get University Vans to drive down there but they  will cost $20 to park them for the weekend.  We also need to decide if we are  going to pay for meals for those going. Motion #11: (M. Spaulding/Brown) To allocate $1,010.00 in a Purchase Order to the Best Western to pay for our hotel for April 28th out of our budget account. 8 in favor/0 opposed/0 abstentions.  Motion Carries Motion #12: (Caplette/Tynan) To allocate $20.00 in a cash advance to KayTe  Bettencourt to pay for parking in NY for the night of April 18 th from our budget  account.  8 in favor/0 opposed/0 abstentions.  Motion Carries  The most that we could give each person for their meals for the two days is  $96.00.  We are bringing 20 people.  If we gave each person the max that would  be $1,920.00  This money is coming out of our fundraising account.  We want to pay for as much as we can as those going are paying for the skate expo on their own but we don’t want to wipe out our fundraising account. Motion #13: (Brown/Casie) To allocate $1,000.00 ($50 per person) for meals in  a cash advance to Valerie Nettleton for our trip to NY on the 18th from our fundraising account.  6 in favor/2 opposed/0 abstentions.  Motion Carries New Business Nominations for all Executive Board positions for next year will be held in two  weeks.  The following week we will have elections.  If you are interested in  running for a position please talk to the person currently in the position about the responsibilities of the job. Announcements West Indian Society is having a Patty Sale on Monday.  The President’s Inauguration is on the 13th of April.  Everyone should go – look in  your email for information. Motion #14: (Kennedy/M. Spaulding) To adjourn meeting at 6:45 pm.  8 in favor/0 opposed/0 abstentions.  Motion Carries Respectfully submitted by: Sarah Tynan'

# Using Generative AI to get the desired respose
client = Client()
response = client.chat.completions.create(
    model="gpt-3.5-turbo",
    messages=[{"role": "user", "content": prompt + text}]
    )
print(f'{LIGHTGREEN}{response.choices[0].message.content}{WHITE}')
